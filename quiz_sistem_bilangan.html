<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Kalkulus - Sistem Bilangan</title>
    <link rel="icon" type="image" href="img/logo-web.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: white;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Space background with stars - FIXED */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(2px 2px at 20px 30px, #eee, transparent),
                radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
                radial-gradient(1px 1px at 90px 40px, #fff, transparent),
                radial-gradient(1px 1px at 130px 80px, rgba(255,255,255,0.6), transparent),
                radial-gradient(2px 2px at 160px 30px, #ddd, transparent),
                radial-gradient(1px 1px at 200px 90px, #fff, transparent),
                radial-gradient(2px 2px at 240px 50px, rgba(255,255,255,0.7), transparent),
                radial-gradient(1px 1px at 280px 10px, #eee, transparent),
                radial-gradient(1px 1px at 320px 70px, #fff, transparent),
                radial-gradient(2px 2px at 360px 40px, rgba(255,255,255,0.9), transparent);
            background-repeat: repeat;
            background-size: 400px 200px;
            animation: sparkle 20s linear infinite;
            z-index: -1;
        }

        @keyframes sparkle {
            0% { transform: translateY(0); }
            100% { transform: translateY(-200px); }
        }

        /* FIXED: Optimized particle styles */
        .particle {
            position: fixed;
            pointer-events: none;
            z-index: 1;
            will-change: transform;
        }

        .orb {
            position: fixed;
            pointer-events: none;
            z-index: 1;
            will-change: transform;
        }

        /* Main Content */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 10;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .quiz-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, #fff, #667eea);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .quiz-header p {
            color: #ccc;
            font-size: 1.1rem;
        }

        /* Progress Bar */
        .progress-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            position: relative;
            z-index: 10;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 4px;
            width: 10%;
            transition: width 0.5s ease;
        }

        /* Quiz Content - FIXED */
        .quiz-content {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            margin-bottom: 2rem;
            position: relative;
            z-index: 10;
            /* Create stacking context */
            transform: translateZ(0);
        }

        .question {
            margin-bottom: 2rem;
        }

        .question-number {
            font-size: 1.2rem;
            color: #fffbe0;
            margin-bottom: 0.5rem;
        }

        .question-text {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        /* Options - FIXED */
        .options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .option {
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 1rem;
            position: relative;
            z-index: 20;
            /* Ensure options are clickable */
            pointer-events: auto;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .option.selected {
            background: rgba(102, 126, 234, 0.2);
            border-color: #667eea;
        }

        .option.correct {
            background: rgba(76, 175, 80, 0.2);
            border-color: #4CAF50;
        }

        .option.incorrect {
            background: rgba(244, 67, 54, 0.2);
            border-color: #F44336;
        }

        .option-marker {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .option.selected .option-marker {
            background: #667eea;
        }

        .option.correct .option-marker {
            background: #4CAF50;
        }

        .option.incorrect .option-marker {
            background: #F44336;
        }

        /* Navigation Buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            position: relative;
            z-index: 10;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.8rem 1.5rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s;
            position: relative;
            z-index: 20;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid #667eea;
        }

        .btn-outline:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* NEW: Middle button styling */
        .btn-middle {
            background: linear-gradient(45deg, #764ba2, #9b59b6);
        }

        .btn-middle:hover {
            background: linear-gradient(45deg, #9b59b6, #8e44ad);
        }

        /* Results Section */
        .results {
            display: none;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            margin-top: 2rem;
            position: relative;
            z-index: 10;
        }

        .results-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .results-header h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #fff, #667eea);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .score-container {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .score {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, #fff, #667eea);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .score-text {
            font-size: 1.2rem;
            color: #ccc;
        }

        .explanation {
            margin-bottom: 2rem;
        }

        .explanation h3 {
            color: #fffbe0;
            margin-bottom: 1rem;
            font-size: 1.4rem;
        }

        .question-result {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #667eea;
        }

        .question-result.correct {
            border-left-color: #4CAF50;
        }

        .question-result.incorrect {
            border-left-color: #F44336;
        }

        .question-result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .question-result-status {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .correct .question-result-status {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
        }

        .incorrect .question-result-status {
            background: rgba(244, 67, 54, 0.2);
            color: #F44336;
        }

        .explanation-content {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #aaa;
            position: relative;
            z-index: 10;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .quiz-content, .results {
                padding: 1.5rem;
            }
            
            .quiz-header h1 {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 1rem;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .option {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Background Particles -->
    <div class="bg-particles" id="particles-container"></div>

    <!-- Main Content -->
    <div class="container">
        <div class="quiz-header">
            <h1>Quiz Sistem Bilangan</h1>
            <p>Uji pemahaman Anda tentang sistem bilangan dengan 10 soal pilihan ganda</p>
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-info">
                <span>Soal <span id="current-question">1</span> dari 10</span>
                <span id="progress-percent">10%</span>
            </div>
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
            </div>
        </div>

        <!-- Quiz Content -->
        <div class="quiz-content" id="quiz-content">
            <!-- Question will be inserted here by JavaScript -->
        </div>

        <!-- Navigation Buttons -->
        <div class="nav-buttons">
            <button class="btn btn-outline" id="prev-btn" disabled>
                <i class="fas fa-arrow-left"></i> Soal Sebelumnya
            </button>
            <!-- NEW: Back to Menu Button -->
            <button class="btn btn-middle" id="back-btn">
                <i class="fas fa-home"></i> Kembali ke Menu
            </button>
            <button class="btn" id="next-btn">
                Soal Selanjutnya <i class="fas fa-arrow-right"></i>
            </button>
            <button class="btn" id="submit-btn" style="display: none;">
                <i class="fas fa-paper-plane"></i> Kumpulkan Jawaban
            </button>
        </div>

        <!-- Results Section -->
        <div class="results" id="results">
            <div class="results-header">
                <h2>Hasil Quiz Sistem Bilangan</h2>
                <p>Berikut adalah hasil dan pembahasan dari jawaban Anda</p>
            </div>

            <div class="score-container">
                <div class="score" id="final-score">0</div>
                <div class="score-text" id="score-text">Jawaban Benar</div>
            </div>

            <div class="explanation">
                <h3>Pembahasan Jawaban</h3>
                <div id="questions-results">
                    <!-- Question results will be inserted here by JavaScript -->
                </div>
            </div>

            <div class="nav-buttons">
                <a href="materi.html" class="btn btn-outline">
                    <i class="fas fa-book"></i> Pelajari Materi Lagi
                </a>
                <button class="btn" id="retry-btn">
                    <i class="fas fa-redo"></i> Coba Lagi
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Kalkulus - Website Belajar Kalkulus. All rights reserved.</p>
    </footer>

    <script>// Quiz Data - 10 Questions about Number Systems
        const quizData = [
            {
                question: "Manakah dari berikut ini yang termasuk bilangan rasional?",
                options: [
                    "√2",
                    "π (pi)",
                    "0.75",
                    "e (bilangan Euler)"
                ],
                correct: 2,
                explanation: "Bilangan rasional adalah bilangan yang dapat dinyatakan sebagai pecahan a/b, di mana a dan b adalah bilangan bulat dan b ≠ 0. 0.75 dapat dinyatakan sebagai 3/4, sehingga termasuk bilangan rasional. √2, π, dan e adalah bilangan irasional karena tidak dapat dinyatakan sebagai pecahan."
            },
            {
                question: "Himpunan bilangan apa yang berisi semua bilangan rasional dan irasional?",
                options: [
                    "Bilangan Bulat",
                    "Bilangan Real",
                    "Bilangan Kompleks",
                    "Bilangan Asli"
                ],
                correct: 1,
                explanation: "Bilangan Real adalah himpunan yang mencakup semua bilangan rasional dan irasional. Bilangan bulat hanya mencakup bilangan bulat positif, negatif, dan nol. Bilangan kompleks mencakup bilangan real dan imajiner. Bilangan asli hanya mencakup bilangan bulat positif."
            },
            {
                question: "Manakah dari berikut ini yang merupakan contoh bilangan irasional?",
                options: [
                    "1/3",
                    "0.5",
                    "√9",
                    "√3"
                ],
                correct: 3,
                explanation: "√3 adalah bilangan irasional karena tidak dapat dinyatakan sebagai pecahan. 1/3 dan 0.5 adalah bilangan rasional. √9 = 3, yang merupakan bilangan bulat dan juga rasional."
            },
            {
                question: "Berapakah hasil dari 2/3 + 1/6?",
                options: [
                    "1/2",
                    "2/9",
                    "5/6",
                    "3/9"
                ],
                correct: 2,
                explanation: "Untuk menjumlahkan pecahan, kita perlu menyamakan penyebutnya. 2/3 = 4/6, jadi 4/6 + 1/6 = 5/6."
            },
            {
                question: "Manakah dari berikut ini yang merupakan bilangan prima?",
                options: [
                    "1",
                    "9",
                    "15",
                    "17"
                ],
                correct: 3,
                explanation: "Bilangan prima adalah bilangan yang hanya memiliki dua faktor, yaitu 1 dan bilangan itu sendiri. 17 hanya dapat dibagi oleh 1 dan 17, sehingga merupakan bilangan prima. 1 bukan bilangan prima karena hanya memiliki satu faktor. 9 dan 15 memiliki lebih dari dua faktor."
            },
            {
                question: "Berapakah FPB (Faktor Persekutuan Terbesar) dari 24 dan 36?",
                options: [
                    "6",
                    "8",
                    "12",
                    "18"
                ],
                correct: 2,
                explanation: "Faktor dari 24: 1, 2, 3, 4, 6, 8, 12, 24. Faktor dari 36: 1, 2, 3, 4, 6, 9, 12, 18, 36. Faktor persekutuan terbesar adalah 12."
            },
            {
                question: "Manakah dari berikut ini yang merupakan contoh bilangan bulat?",
                options: [
                    "-3.5",
                    "2/3",
                    "√4",
                    "0.75"
                ],
                correct: 2,
                explanation: "√4 = 2, yang merupakan bilangan bulat. -3.5 adalah bilangan desimal, 2/3 adalah pecahan, dan 0.75 adalah bilangan desimal, yang semuanya bukan bilangan bulat."
            },
            {
                question: "Berapakah KPK (Kelipatan Persekutuan Terkecil) dari 4 dan 6?",
                options: [
                    "12",
                    "18",
                    "24",
                    "36"
                ],
                correct: 0,
                explanation: "Kelipatan 4: 4, 8, 12, 16, 20, 24,... Kelipatan 6: 6, 12, 18, 24, 30,... Kelipatan persekutuan terkecil adalah 12."
            },
            {
                question: "Manakah dari berikut ini yang merupakan bilangan komposit?",
                options: [
                    "7",
                    "11",
                    "13",
                    "15"
                ],
                correct: 3,
                explanation: "Bilangan komposit adalah bilangan yang memiliki lebih dari dua faktor. 15 memiliki faktor 1, 3, 5, dan 15, sehingga merupakan bilangan komposit. 7, 11, dan 13 adalah bilangan prima karena hanya memiliki dua faktor."
            },
            {
                question: "Berapakah hasil dari 3/4 × 2/5?",
                options: [
                    "5/9",
                    "6/20",
                    "3/10",
                    "1/2"
                ],
                correct: 2,
                explanation: "Untuk mengalikan pecahan, kita kalikan pembilang dengan pembilang dan penyebut dengan penyebut. 3/4 × 2/5 = (3×2)/(4×5) = 6/20 = 3/10 setelah disederhanakan."
            }
        ];

        // Quiz State
        let currentQuestion = 0;
        let userAnswers = new Array(quizData.length).fill(null);
        let quizCompleted = false;

        // DOM Elements
        const quizContent = document.getElementById('quiz-content');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const backBtn = document.getElementById('back-btn'); // NEW: Back button
        const results = document.getElementById('results');
        const currentQuestionEl = document.getElementById('current-question');
        const progressBar = document.getElementById('progress-bar');
        const progressPercent = document.getElementById('progress-percent');
        const finalScore = document.getElementById('final-score');
        const scoreText = document.getElementById('score-text');
        const questionsResults = document.getElementById('questions-results');
        const retryBtn = document.getElementById('retry-btn');

        // Initialize Quiz
        function initQuiz() {
            showQuestion();
            updateProgress();
            
            // Add event listeners
            nextBtn.addEventListener('click', nextQuestion);
            prevBtn.addEventListener('click', prevQuestion);
            submitBtn.addEventListener('click', submitQuiz);
            retryBtn.addEventListener('click', retryQuiz);
            backBtn.addEventListener('click', goBackToMenu); // NEW: Back button event listener
        }

        // Show Current Question
        function showQuestion() {
            const question = quizData[currentQuestion];
            
            let optionsHTML = '';
            question.options.forEach((option, index) => {
                const isSelected = userAnswers[currentQuestion] === index;
                optionsHTML += `
                    <div class="option ${isSelected ? 'selected' : ''}" data-index="${index}">
                        <div class="option-marker">${String.fromCharCode(65 + index)}</div>
                        <div class="option-text">${option}</div>
                    </div>
                `;
            });
            
            quizContent.innerHTML = `
                <div class="question">
                    <div class="question-number">Soal ${currentQuestion + 1}</div>
                    <div class="question-text">${question.question}</div>
                    <div class="options">${optionsHTML}</div>
                </div>
            `;
            
            // Add event listeners to options - FIXED
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation(); // Prevent event bubbling
                    selectOption(parseInt(this.dataset.index));
                });
            });
            
            // Update button states
            prevBtn.disabled = currentQuestion === 0;
            
            if (currentQuestion === quizData.length - 1) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'inline-flex';
            } else {
                nextBtn.style.display = 'inline-flex';
                submitBtn.style.display = 'none';
            }
        }

        // Select an Option
        function selectOption(optionIndex) {
            userAnswers[currentQuestion] = optionIndex;
            showQuestion();
        }

        // Update Progress
        function updateProgress() {
            const progress = ((currentQuestion + 1) / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressPercent.textContent = `${Math.round(progress)}%`;
            currentQuestionEl.textContent = currentQuestion + 1;
        }

        // Navigate to Next Question
        function nextQuestion() {
            if (currentQuestion < quizData.length - 1) {
                currentQuestion++;
                showQuestion();
                updateProgress();
            }
        }

        // Navigate to Previous Question
        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
                updateProgress();
            }
        }

        // NEW: Go Back to Menu
        function goBackToMenu() {
            // Confirmation dialog before leaving
            const confirmLeave = confirm("Apakah Anda yakin ingin kembali ke menu? Progress Anda akan hilang.");
            if (confirmLeave) {
                window.location.href = 'mainquiz.html';
            }
        }

        // Submit Quiz
        function submitQuiz() {
            quizCompleted = true;
            
            // Calculate score
            let correctAnswers = 0;
            quizData.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    correctAnswers++;
                }
            });
            
            // Display results
            finalScore.textContent = `${correctAnswers}/${quizData.length}`;
            scoreText.textContent = `Anda menjawab ${correctAnswers} dari ${quizData.length} soal dengan benar`;
            
            // Display question results
            let resultsHTML = '';
            quizData.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.correct;
                
                resultsHTML += `
                    <div class="question-result ${isCorrect ? 'correct' : 'incorrect'}">
                        <div class="question-result-header">
                            <h4>Soal ${index + 1}</h4>
                            <div class="question-result-status">
                                ${isCorrect ? 'Benar' : 'Salah'}
                            </div>
                        </div>
                        <div class="question-text">${question.question}</div>
                        <div class="options">
                            ${question.options.map((option, optIndex) => {
                                let optionClass = '';
                                if (optIndex === question.correct) {
                                    optionClass = 'correct';
                                } else if (optIndex === userAnswer && !isCorrect) {
                                    optionClass = 'incorrect';
                                }
                                
                                return `
                                    <div class="option ${optionClass}">
                                        <div class="option-marker">${String.fromCharCode(65 + optIndex)}</div>
                                        <div class="option-text">${option}</div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                        <div class="explanation-content">
                            <strong>Pembahasan:</strong> ${question.explanation}
                        </div>
                    </div>
                `;
            });
            
            questionsResults.innerHTML = resultsHTML;
            
            // Show results section
            results.style.display = 'block';
            quizContent.style.display = 'none';
            document.querySelector('.progress-container').style.display = 'none';
            document.querySelector('.nav-buttons').style.display = 'none';
        }

        // Retry Quiz
        function retryQuiz() {
            currentQuestion = 0;
            userAnswers = new Array(quizData.length).fill(null);
            quizCompleted = false;
            
            // Reset UI
            results.style.display = 'none';
            quizContent.style.display = 'block';
            document.querySelector('.progress-container').style.display = 'block';
            document.querySelector('.nav-buttons').style.display = 'flex';
            
            showQuestion();
            updateProgress();
        }

        // FIXED: Optimized particle system
        function createBackgroundParticles() {
            const container = document.getElementById('particles-container');
            const particleCount = 15;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Random properties
                const size = Math.random() * 2 + 1;
                const left = Math.random() * 100;
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 5;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${left}vw`;
                particle.style.animationDuration = `${duration}s`;
                particle.style.animationDelay = `${delay}s`;
                particle.style.animationName = 'float';
                
                container.appendChild(particle);
            }
        }

        function createOptimizedOrbs() {
            const orbCount = 3;
            
            for (let i = 0; i < orbCount; i++) {
                const orb = document.createElement('div');
                orb.className = 'orb';
                
                const size = Math.random() * 100 + 50;
                const duration = Math.random() * 30 + 30;
                const delay = Math.random() * 10;
                const top = Math.random() * 100;
                
                orb.style.width = `${size}px`;
                orb.style.height = `${size}px`;
                orb.style.animationDuration = `${duration}s`;
                orb.style.animationDelay = `${delay}s`;
                orb.style.top = `${top}vh`;
                orb.style.background = 'radial-gradient(circle, rgba(102, 126, 234, 0.2) 0%, transparent 70%)';
                
                document.getElementById('particles-container').appendChild(orb);
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initQuiz();
            createBackgroundParticles();
            createOptimizedOrbs();
        });

        // Simple mouse move effect (optional, can be removed if still causing issues)
        document.addEventListener('mousemove', (e) => {
            // Only create 1-2 particles on mouse move
            for (let i = 0; i < 10; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.width = (Math.random() * 2 + 1) + 'px';
                particle.style.height = particle.style.width;
                particle.style.background = 'rgba(255, 255, 255, 0.5)';
                particle.style.borderRadius = '50%';
                
                const angle = Math.random() * 2 * Math.PI;
                const radius = Math.random() * 15;
                const x = e.clientX + Math.cos(angle) * radius;
                const y = e.clientY + Math.sin(angle) * radius;
                
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '15';
                
                document.body.appendChild(particle);
                
                particle.animate([
                    { opacity: 1, transform: 'scale(1)' },
                    { opacity: 0, transform: 'scale(0.5)' }
                ], {
                    duration: 800,
                    easing: 'ease-out'
                });
                
                setTimeout(() => particle.remove(), 800);
            }
        });</script>
</body>
</html>